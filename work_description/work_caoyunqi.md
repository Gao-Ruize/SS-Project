# day3  7.8
- 学习了git与git flow的相关知识，学会在本地使用git进行工作  
- 设计了数据库，并初步编写了基于mysql的数据库文件，   
  暂定使用ins_message, instruct, student, tutor, jwc_message, read_jwc_msg进行存储，在之后确定爬取数据的格式后还需要进一步的修改     
- 开始着手写后端，遵循接口与实现分离原则完成了基本结构的搭建，后期还需要按需求添加辅助类    

# day4  7.9
- 根据上午老师的指导讨论并适当更新了微信前端界面，修改了register页面的样式，添加了部分函数  
- 修改数据库的实现，将主键设置为自增，便于操作  
- 继续完善后端，设计了登陆与进行绑定的接口

# day5 7.10
- 修改了后端对应数据库属性的命名，使其更符合规范，将pk都转为自增主键，便于操作    
- 数据库中timestamp类型在后端对应int会出现错误，故暂时修改称为varchar确保运行的正确性  
- 在read_jwc_msg中添加了msg_id完善设计  
- 根据助教的建议，给每个msg添加一个阶段属性，便于分阶段查看通知  
- 完善后端相关辅助类  
- 在小程序前端实现搜索功能  
- 学习小程序订阅号通知的功能
- 在小程序前端添加信息展示页面messageDetailPage

# day6 7.13
- 学习了junit5的使用方法，建立了简单的项目进行测试，尚未添加到课程项目中     
- 根据需求修改了数据库的一些实现，在数据名方面出现了一些bug，修改了命名方式   
- 在后端实现了login与bind的方法  
- 学习了api文档showdoc的使用    
- 讨论具体功能点的实现  

# day7 7.14
- 根据昨天讨论接口得出的plan.md，在showdoc上完成了所描述基本功能api的设计
- 在后端实现了大部分接口的功能，controller基本完成，其他层全部完成  
- 其中在微信小程序登陆时根据code获取u_id的功能还没有实现  
- 优化数据库结构，将ins_msg拆分为ins_msg与read_ins_msg便于后端一些功能的实现

# day8 7.15
- 继续对先前设计的接口进行完善，添加了导师获取指导学生信息与导师查看已发送信息接口  
- 针对test修改了saveOrUpdate的返回值，从void到当前对象  
- 修改了后端将微信号与学号绑定的函数逻辑，现在小程序可以成功的将openid与学号/工号进行绑定  
- 在微信小程序前端对login与register进行了实现，对原有的页面逻辑进行了一些修改优化  
- 实现了tutorHistoryMsg与tutorHistoryDetailMsg页面的完整功能，包括接口的实现与功能完善优化  
- 原先后端代码缺乏对null的判定存在隐患，修改了一部分，剩下的在test后完成  
- 在后端实现了大部分接口的功能，设定的controller完成  

# day9 7.16
- 实现了原先在数据写死的微信小程序的所有api函数，现在微信小程序的功能基本完全实现，能够完整的与后端进行通信交互，小程序端功能完成      
- 对原先微信小程序的路由逻辑进行了一些调整，根据后端数据类型对前端进行了一些改动    
- 对原先的chooseTutor进行了一些改动，以确保与后端通信时不会发生异常    
- 在后端新增加了allMsgController，作为信息整体操控的controller，后端整体功能完成    
- 根据助教的建议在前端添加了学生端的主页，展示当前阶段与来源于导师，教务处的未读信息数量，并在后端添加了对应的接口并实现    
- 在后端增加了一些对null情况的判断，使得程序的稳定性更高  

# day10 7.17 - 7.19
- 在对后端的测试中发现，若将数据库INT类型的变量默认值设置为NULL，在调用特定的JPA接口时会报错，故将sql文件中所有INT的默认值修改为0  
- 更深入的学习了如何使用mockmvc模拟请求对controller层进行测试  
- 完成了AllMessageControllerTest与JwcMsgControllerTest，测试覆盖率到达100%  
- 在测试时遇到了一些问题，对于一个返回成json或string的接口返回值，若其中所含的属性很多，没有很好的办法进行相等的判断  
花费了很长的时间进行资料的查找但最终没有获得一个很好的解决方案  
首先考虑将String转为对象进行比较，但是对与List类的对象没有找到合适的方法，其次将对象转为String又会遇到属性顺序不一致的状况，  
最终选择将参与对比的变量直接按照class中属性的正确顺序表示为String，便于比较，后期如果发现更好的解决方案会进行修改 
- 通过parseJSON的方式解决了上述问题  

# day11 7.20
- 在听取了助教的意见后，实现了在导航栏上标出未读信息的条目数量  
学生需要统计教务处消息与导师消息，故其中在stuChoseTutor, stuMsgFromIns, stuMsgFromJwc中添加了jwcMsgCount和InsMsgCount的data与对应设置函数    
导师只需要教务处消息，故在tutMsgFromJwc, tutSendMsg, tutHistoryMsg中添加了jwcMsgCount与对应的设置函数  
导师的数量统计实现还有可以用路由传参实现（导师只在一个页面更新唯一的data），若后期有需求可进行修改  
- 根据前端的需求，在后端添加了统计导师未阅读教务处信息的接口与实现，更新了api文档  
- 实现了前端所有的搜索功能  
- 为实现阅读信息情况的实时刷新，修改了msgDetail页面的commit函数，  
现在函数在更新完阅读状态后会根据userType与senderType显式的navigateTo上一级页面，通过强制调用onLoad函数实现刷新功能  
- 在后端所有涉及到获取读取信息的函数中添加了排序功能，将未读item排到前面先显示  
- 制定本周计划  
