# Day3 2020-7-8
- 学习前端如何获得微信用户标识的openid
- 学习github的使用
- 更新message页面
- 将已完成的七个页面整合到一个小程序里，对路由规则进行重写
- 将微信登录获取openid的组件整合到小程序中
- 新增register页面，并整合到小程序中
- 前端功能基本实现，还需要对wx.request的具体参数进行调整
- 将最终的小程序上传到develop分支，/code/wechat_front
# Day4 2020-7-9
- 添加stuChooseTutor页面
- 完善留出的后端接口
- stuChooseTutor页面还需添加组件
# Day5 2020-7-10
- 将stuChooseTutor页面补充完整
- 将之前的许多文件的函数加了注释，对给后端预留的接口添加注释
- 学习前端mock数据  
前端mock数据的存在是为了在后端未写完的情况下，前端可以有模拟的测试数据来测试是否可以运行。
mock数据常见的解决方案有：  
在代码层硬编码：在负责请求后端接口的函数里直接定义数据变量存数据。（方便，但真正使用后端时需要改代码）  
在前端JS拦截：Mock.js，通过在业务代码前挂载该JS文件，拦截Ajax请求。改变前端结构，而且实际操作与硬编码差不多。  
代理软件：Fiddler和Charles可以对网络请求进行拦截将其替换为我们需要的Mock 数据，但操作过于繁琐。  
Mock-Server：搭建独立的mock服务端，但因为我们后端本身结构并不复杂，所以再搭建一个mock服务器显得多余，不如直接搭建后端，难度也不大。  
最后我们依旧使用在代码层硬编码的操作来模拟数据。  
- 学习Swagger用法，打算下周一开始就把swagger并入后端，给前端提供API规范
# Day6 2020-7-13
- 确定了本周的具体任务，总结出了需要完善的功能点。
- 出于安全性考虑，决定将包含appID，appSecret信息的向微信后端申请unionID的操作放到后端。
- 学习了jest的使用，并且将jest引入到微信小程序中。
- 完成对pr的代码的code review，并merge到dev分支里。
# Day7 2020-7-14
- 建立了线上API文档便于团队合作。
- 继续学习jest，在异步函数处理中理解了promise机制。
- 学习了mock函数模块。  
Mock 函数允许你测试代码之间的连接——实现方式包括：擦除函数的实际实现、捕获对函数的调用 ( 以及在这些调用中传递的参数) 、在使用 new 实例化时捕获构造函数的实例、允许测试时配置返回值。
- 完成对pr的代码的code review，并merge到dev分支里。
# Day8 2020-7-15
- 更新API文档。
- 实现后端code转换openid。
- 前端导师发送消息接口的实现（还未改完，卡在checkbox group的返回值）。
- 完成对pr的代码的code review，并merge到dev分支里。
# Day9 2020-7-16
- 前端导师发送消息的接口实现。
- 将jest框架引入微信小程序，并开始对tutorSendMsg页面写test程序。
- 完成对pr的代码的code review，并merge到dev分支里。
# Day10 2020-7-17 - 2020-7-19
- 完成对微信小程序单元测试的全部编写，并提了pr。  
存在问题：目前无法解决将wx.request()函数mock以后（用来避免向后端请求信息），会存在wx.request.success函数内容不计入总行数的情况。  
解决方法：目前是将success内容全部copy一份另外建立一个函数测试，这样能避免大量代码不计入测试，但仍存在1行函数不计入测试。
- 完成对pr的代码的code review，并merge到dev分支里。
# Day11 2020-7-20
- 完成本周e2e测试计划的安排。
- 复习老师课上要求。
- 查询微信小程序相关的e2e测试资料。
# Day12 2020-7-21
- 确定自动化测试框架为微信官方文档介绍的框架并行jest。
- 将微信小程序前端新增函数的单元测试补齐。
- 配置好了微信小程序前端的自动化测试环境，并跑起来了测试样例。
# Day13 2020-7-22
- 在使用微信自带的miniprogram_automator开发时遇到覆盖率无法统计的问题，试图尝试使用新框架，遇到以下问题：  
其他自动化测试框架大多基于浏览器，小程序需要部署到浏览器才能正常工作，期间配置环境问题会引起很大麻烦，而且也不能部署到github。  
尝试使用腾讯TMQ团队开源的FAT测试框架，但测试用例过少，开发者论坛也无测试成功样例，而且需要配置Androidstudio虚拟机，同样配置环境问题过大。  
尝试使用appium框架，但不支持大多数的小程序组件点击。  
尝试使用airtest工具，也遇到了配置环境的问题。  
- 最后我们选择继续使用微信的miniprogram_automator，但在开发的同时采用开发文档的方式进行记录，以方便我们检查所有组件都覆盖到。
- 另外，我们偶然发现官方通报有可能不支持自定义组件，目前还无解决方法。
# Day14 2020-7-23
- 遇到环境配置困难，重新用cli打开服务端口。
- 遇到jest报Invalid Chai property错误，正在试图修复。
# Day15 2020-7-24
- 解决以上问题，通过npm uninstall chai，直接使用jest的expect语句。
- 添加3个页面的e2e测试，解决了之前组件加载的问题。
- 遇到新问题，无法在button tap时刷新新的组件进行渲染，导致无法查看button是否达到要求。  
目前不知道是button的问题还是渲染的问题，可以代替的方法都试过了，周末会继续尝试。
- 帮助另外一组解决了自动化测试工具的环境配置问题。
- 周末会继续写e2e测试，并将新的函数添加单元测试。
